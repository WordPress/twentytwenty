var twentytwenty=twentytwenty||{},$=jQuery,$doc=$(document),$win=$(window),winHeight=$win.height(),winWidth=$win.width();function twentytwentyToggleAttribute(t,e,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1),t.attr(e)!==n?t.attr(e,n):t.attr(e,o)}twentytwenty.intervalScroll={init:function(){didScroll=!1,$win.on("scroll load",function(){didScroll=!0}),setInterval(function(){didScroll&&(didScroll=!1,$win.triggerHandler("did-interval-scroll"))},250)}},twentytwenty.resizeEnd={init:function(){var e;$win.on("resize",function(t){clearTimeout(e),e=setTimeout(function(){$win.triggerHandler("resize-end")},250)})}},twentytwenty.toggles={init:function(){twentytwenty.toggles.toggle(),twentytwenty.toggles.resizeCheck(),twentytwenty.toggles.untoggleOnEscapeKeyPress()},toggle:function(){$("*[data-toggle-target]").live("click",function(t){var n=$(this),o=$(this).data("toggle-target");if("next"==o)var i=n.next();else i=$(o);i.is(".active")?i.trigger("toggle-target-before-active"):i.trigger("toggle-target-before-inactive");var l=n.data("class-to-toggle")?n.data("class-to-toggle"):"active",e=0;if(i.hasClass("cover-modal"))e=10;setTimeout(function(){if("slidetoggle"==n.data("toggle-type")){var t=n.data("toggle-duration")?n.data("toggle-duration"):250;i.slideToggle(t)}else i.toggleClass(l);if("next"==o?n.toggleClass("active"):$('*[data-toggle-target="'+o+'"]').toggleClass("active"),twentytwentyToggleAttribute(n,"aria-expanded","true","false"),n.data("toggle-body-class")&&$("body").toggleClass(n.data("toggle-body-class")),n.data("lock-screen")?twentytwenty.scrollLock.setTo(!0):n.data("unlock-screen")?twentytwenty.scrollLock.setTo(!1):n.data("toggle-screen-lock")&&twentytwenty.scrollLock.setTo(),n.data("set-focus")){var e=$(n.data("set-focus"));e.length&&(n.is(".active")?e.focus():e.blur())}i.triggerHandler("toggled"),i.is(".active")?i.trigger("toggle-target-after-active"):i.trigger("toggle-target-after-inactive")},e)})},resizeCheck:function(){$("*[data-untoggle-above], *[data-untoggle-below], *[data-toggle-above], *[data-toggle-below]").length&&$win.on("resize",function(){var i=$win.width();$(".toggle").each(function(){$toggle=$(this);var t=$toggle.data("untoggle-above"),e=$toggle.data("untoggle-below"),n=$toggle.data("toggle-above"),o=$toggle.data("toggle-below");(t||e||n||o)&&((t&&t<i||e&&i<e)&&$toggle.hasClass("active")||(n&&n<i||o&&i<o)&&!$toggle.hasClass("active"))&&$toggle.trigger("click")})})},untoggleOnEscapeKeyPress:function(){$doc.keyup(function(t){"Escape"===t.key&&$("*[data-untoggle-on-escape].active").each(function(){$(this).hasClass("active")&&$(this).trigger("click")})})}},twentytwenty.coverModals={init:function(){$(".cover-modal").length&&(twentytwenty.coverModals.onToggle(),twentytwenty.coverModals.outsideUntoggle(),twentytwenty.coverModals.closeOnEscape(),twentytwenty.coverModals.showOnLoadandClick(),twentytwenty.coverModals.hideAndShowModals())},onToggle:function(){$(".cover-modal").on("toggled",function(){var t=$(this),e=$("body");t.hasClass("active")?e.addClass("showing-modal"):(e.removeClass("showing-modal").addClass("hiding-modal"),setTimeout(function(){e.removeClass("hiding-modal")},500))})},outsideUntoggle:function(){$doc.live("click",function(t){var e=$(t.target);e.is(".cover-modal.active")&&twentytwenty.coverModals.untoggleModal(e)})},closeOnEscape:function(){$doc.keyup(function(t){"Escape"===t.key&&$(".cover-modal.active").each(function(){twentytwenty.coverModals.untoggleModal($(this))})})},showOnLoadandClick:function(){var n="modal";if(-1!==window.location.search.indexOf(n)){var t=getQueryStringValue(n),e=$("#"+t+"-modal");t&&e.length&&setTimeout(function(){e.addClass("active").triggerHandler("toggled"),twentytwenty.scrollLock.setTo(!0)},250)}$("a").live("click",function(){if(-1!==$(this).attr("href").indexOf(n)){var t=getQueryStringValue(n,$(this).attr("href")),e=$("#"+t);if(t&&e.length)return e.addClass("active").triggerHandler("toggled"),twentytwenty.scrollLock.setTo(!0),!1}})},hideAndShowModals:function(){var t=$(".cover-modal");t.on("toggle-target-before-inactive",function(t){t.target==this&&$(this).addClass("show-modal")}),t.on("toggle-target-after-inactive",function(t){if(t.target==this){var e=$(this);setTimeout(function(){e.removeClass("show-modal")},500)}})},untoggleModal:function(t){if(n=!1,t.data("modal-target-string"))var e=t.data("modal-target-string"),n=$('*[data-toggle-target="'+e+'"]').first();n&&n.length?n.trigger("click"):t.removeClass("active")}},twentytwenty.smoothScroll={init:function(){twentytwenty.smoothScroll.scrollToAnchor(),twentytwenty.smoothScroll.scrollToElement()},scrollToAnchor:function(){$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').not(".do-not-scroll").not(".skip-link").on("click",function(t){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if((e=e.length?e:$("[name="+this.hash.slice(1)+"]")).length){t.preventDefault();var n=$(this).data("additional-offset"),o=$(this).data("scroll-speed")?$(this).data("scroll-speed"):500,i=e.offset().top,l=n?i+n:i;$("html, body").animate({scrollTop:l},o)}}})},scrollToElement:function(){$("*[data-scroll-to]").on("click",function(t){var e=$($(this).data("scroll-to"));if(e.length){t.preventDefault();var n=$(this).data("additional-offset"),o=$(this).data("scroll-speed")?$(this).data("scroll-speed"):500,i=e.offset().top,l=n?i+n:i;$("html, body").animate({scrollTop:l},o)}})}},twentytwenty.instrinsicRatioVideos={init:function(){twentytwenty.instrinsicRatioVideos.makeFit(),$win.on("resize fit-videos",function(){twentytwenty.instrinsicRatioVideos.makeFit()})},makeFit:function(){$("iframe, object, video").each(function(){var t=$(this),e=t.parent().width();if(t.hasClass("intrinsic-ignore")||t.parent().hasClass("intrinsic-ignore"))return!0;t.attr("data-origwidth")||(t.attr("data-origwidth",t.attr("width")),t.attr("data-origheight",t.attr("height")));var n=e/t.attr("data-origwidth");t.css("width",e+"px"),t.css("height",t.attr("data-origheight")*n+"px")})}},twentytwenty.scrollLock={init:function(){window.scrollLocked=!1,window.prevScroll={scrollLeft:$win.scrollLeft(),scrollTop:$win.scrollTop()},window.prevLockStyles={},window.lockStyles={"overflow-y":"scroll",position:"fixed",width:"100%"},twentytwenty.scrollLock.saveStyles()},saveStyles:function(){var t,e=$("html").attr("style"),n={};e&&(t=e.split(/;\s/),$.each(t,function(t){if(t){var e=t.split(/\s:\s/);e.length<2||(n[e[0]]=e[1])}}),$.extend(prevLockStyles,n))},lock:function(){var t={};scrollLocked||(prevScroll={scrollLeft:$win.scrollLeft(),scrollTop:$win.scrollTop()},twentytwenty.scrollLock.saveStyles(),$.extend(t,lockStyles,{left:-prevScroll.scrollLeft+"px",top:-prevScroll.scrollTop+"px"}),$("html").css(t),$win.scrollLeft(0).scrollTop(0),window.scrollLocked=!0)},unlock:function(){window.scrollLocked&&($("html").attr("style",$("<x>").css(prevLockStyles).attr("style")||""),$win.scrollLeft(prevScroll.scrollLeft).scrollTop(prevScroll.scrollTop),window.scrollLocked=!1)},setTo:function(t){arguments.length?t?twentytwenty.scrollLock.lock():twentytwenty.scrollLock.unlock():window.scrollLocked?twentytwenty.scrollLock.unlock():twentytwenty.scrollLock.lock()}},twentytwenty.dynamicScreenHeight={init:function(){var t=$(".screen-height");t.css("min-height",$win.innerHeight()),setTimeout(function(){t.css("min-height",$win.innerHeight())},500),$win.on("resize",function(){t.css("min-height",$win.innerHeight())})}},twentytwenty.focusManagement={init:function(){twentytwenty.focusManagement.focusLoop()},focusLoop:function(){$(".cover-modal *:not(.svg):not(.path)").on("focus",function(){$(".menu-modal").is(".active")?$(this).parents(".menu-modal").length||$(this).parents(".header-toggles").length||$(".nav-toggle").focus():$(".search-modal").is(".active")&&($(this).parents(".search-modal").length||$(".search-modal .search-field").focus())})}},twentytwenty.mainMenu={init:function(){twentytwenty.mainMenu.expandLevel()},expandLevel:function(){var t=$(".main-menu .current-menu-item");!1!==t.length&&t.parents("li").each(function(){$subMenuToggle=$(this).find(".sub-menu-toggle").first(),$subMenuToggle.length&&$subMenuToggle.trigger("click")})}},$doc.ready(function(){twentytwenty.intervalScroll.init(),twentytwenty.resizeEnd.init(),twentytwenty.toggles.init(),twentytwenty.coverModals.init(),twentytwenty.instrinsicRatioVideos.init(),twentytwenty.smoothScroll.init(),twentytwenty.scrollLock.init(),twentytwenty.mainMenu.init(),twentytwenty.focusManagement.init(),twentytwenty.dynamicScreenHeight.init()});
//# sourceMappingURL=construct.min.map